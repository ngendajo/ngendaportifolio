<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Engineer Ngendahimana Joseph</title>
        <link rel="stylesheet" href="styles/styles.css">
        <link href="https://fonts.googleapis.com/css?family=Zhi Mang Xing" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        
    </head>
    <body>
        <div class="main">
            <header>
                <div class="logo">
                    Engineer Ngendahimana Joseph
                </div>
                <div class="titles">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="contactme.html">Contact me</a></li>
                        <li><a href="profile.html">Profile</a></li>
                        <li><a href="admin.html">Admin</a></li>
                    </ul>
                   
                </div>
            </header>
            <div>
                <hr class="bar">
            </div>
            <div class="content1">
                
                <div class="profile">
                    <div class="left1">
                        <h1>Who is Ngendahimana Joseph?</h1>
                        <p>Joseph holds a bachelorâ€™s degree in computer science and has been a teacher of computer for the last 5 years.</p>
                        <p>He is also skilled in graphic design, web design. and is certified in SQL, JAVA, and Python. He has been using these skills 
                            by designing different web applications like students report management system at Gitisi Secondary School and library management system ast 
                            Agahozo Shalom Youth Village.
                        </p>
                        <p> 
                            He is maried with Alice Uwase and we have one kid, Moise Ngendahimana.
                        </p>
                    </div>
                                          
                    <div class="rightp">
                        <img src="images/family.jpg"alt="My Pucture">
                    </div>
                </div>
                
                    <cencter><h1 class="arti">Interesting articles </h1></cencter>
                    <div class="articles" id="article1">
                   
                    </div>
                    
                
                
                
            </div>
        </div>
       
        <script>
            const postsContainer = document.querySelector('.articles');
            (async () => {
        try {
          const res = await fetch(
            'https://localhost:3000/posts',
            {
              method: 'GET',
              headers: { 'content-Type': 'application/json' },
            },
          );
          const fetchedPosts = await res.json();
          const posts = fetchedPosts.data;
          console.log('posts:', posts);
          let html = '';
          await posts.forEach((post) => {
            console.log(post);
            html += ` <div class="post-card">
         <div class="left-blog-card">
           <a href="readpost.html?id=${
             post._id
           }"><h3 class="post-title">
         ${post.title.slice(0,20)} ... <u style="color:blue">Click here</u>
         </h3></a>
          
           <div class="bottom-icons">
             <p class="time"><em>Posted at ${post.createdAt}</em></p>
             <p class="each-icon">
               <i class="fa fa-commenting-o" aria-hidden="true"></i
               ><span class="right3"> ${post.commentsCount} comments</span>
             </p>
             <p class="each-icon">
               <i class="fa fa-eye" aria-hidden="true"></i>
               <span class="right3"> ${post.views} views</span>
             </p>
             <p class="each-icon">
               <i class="fa fa-heart" aria-hidden="true"></i>
               <span class="right3"> ${post.likes} likes</span>
             </p>
           </div>
         </div>
       </div>`;
          });
          
          postsContainer.innerHTML = html;
        } catch (error) {
          console.log(error);
        }
      })();
        </script>
        <script src="admin.js"></script>
    </body>
</html>
